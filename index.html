<!DOCTYPE html>
<html lang="ka">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ქართული ენის სავარჯიშოები</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Georgian:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      body {
        font-family: 'Noto Sans Georgian', sans-serif;
      }
      .animate-fade-in { animation: fadeIn 0.5s ease-out; }
      .animate-fade-in-up { animation: fadeInUp 0.5s ease-out; }
      @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      @keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.1",
    "react-dom/": "https://esm.sh/react-dom@^19.2.1/",
    "react/": "https://esm.sh/react@^19.2.1/"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
  <body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="text/babel" data-presets="typescript,react">
      const { useState, useEffect } = React;

      // --- DATA ---
      const questions = [
        {
          id: 1,
          topic: "რეკომენდაცია 1",
          wrongSentence: "ადგილი აქვს ბოროტმოქმედებას.",
          correctSentence: "ხდება ბოროტმოქმედება.",
          explanation: "„ადგილი აქვს“ – ეს შესიტყვება რუსულის კალკია. მართებულია: „ხდება ბოროტმოქმედება“."
        },
        {
          id: 2,
          topic: "რეკომენდაცია 1",
          wrongSentence: "ადგილი აქვს შეხვედრებს.",
          correctSentence: "ეწყობა / იმართება შეხვედრები.",
          explanation: "„ადგილი აქვს“ – ეს შესიტყვება რუსულის კალკია. მართებულია: „ეწყობა / იმართება შეხვედრები“."
        },
        {
          id: 3,
          topic: "რეკომენდაცია 1",
          wrongSentence: "ადგილი აქვს სიკვდილიანობის შემთხვევებს.",
          correctSentence: "არის სიკვდილიანობის შემთხვევები.",
          explanation: "„ადგილი აქვს“ – ეს შესიტყვება რუსულის კალკია. მართებულია: „არის სიკვდილიანობის შემთხვევები“."
        },
        {
          id: 4,
          topic: "რეკომენდაცია 1",
          wrongSentence: "ადგილი აქვს წესრიგის დარღვევას.",
          correctSentence: "ირღვევა წესრიგი.",
          explanation: "„ადგილი აქვს“ – ეს შესიტყვება რუსულის კალკია. მართებულია: „ირღვევა წესრიგი“. თუმცა მართებულია: „ყველაფერს თავისი ადგილი აქვს...“"
        },
        {
          id: 5,
          topic: "რეკომენდაცია 2",
          wrongSentence: "რეჟისორმა კარგი ფილმი გააკეთა.",
          correctSentence: "რეჟისორმა კარგი ფილმი გადაიღო (შექმნა).",
          explanation: "„აკეთებს“ ნიშნავს შრომით შექმნას (მაგ. დურგალი მაგიდას აკეთებს). ფილმზე უმართებულოა „გააკეთა“, უნდა იყოს: „გადაიღო (შექმნა)“."
        },
        {
          id: 6,
          topic: "რეკომენდაცია 2",
          wrongSentence: "მან კარგი სიმღერა / პიესა გააკეთა.",
          correctSentence: "მან კარგი სიმღერა / პიესა დაწერა (შექმნა).",
          explanation: "უმართებულოა: „სიმღერა / პიესა... გააკეთა“. უნდა იყოს: „დაწერა (შექმნა)“."
        },
        {
          id: 7,
          topic: "რეკომენდაცია 2",
          wrongSentence: "მან კონკურენტებს შეთავაზება გაუკეთა.",
          correctSentence: "მან კონკურენტებს შესთავაზა.",
          explanation: "ნაცვლად ფორმისა „შეთავაზება გაუკეთა“, უნდა იყოს: „მან შესთავაზა“."
        },
        {
          id: 8,
          topic: "რეკომენდაცია 2",
          wrongSentence: "მინისტრმა შეხსენება გააკეთა, რომ მხარი დაუჭირონ ამ ინიციატივას.",
          correctSentence: "მინისტრმა შეახსენა, რომ მხარი დაუჭირონ ამ ინიციატივას.",
          explanation: "ნაცვლად ფორმისა „შეხსენება გააკეთა“, უნდა იყოს: „მინისტრმა შეახსენა“."
        },
        {
          id: 9,
          topic: "რეკომენდაცია 2",
          wrongSentence: "მეორეჯერ გაუკეთა შეთავაზება.",
          correctSentence: "მეორეჯერ შესთავაზა.",
          explanation: "ნაცვლად ფორმისა „გაუკეთა შეთავაზება“, უნდა იყოს: „შესთავაზა“."
        },
        {
          id: 10,
          topic: "რეკომენდაცია 2",
          wrongSentence: "საჭიროა გავაკეთოთ ბოიკოტირება.",
          correctSentence: "საჭიროა (მოვაწყოთ) ბოიკოტი.",
          explanation: "ნაცვლად ფორმისა „გავაკეთოთ ბოიკოტირება“, უნდა იყოს: „(მოვაწყოთ) ბოიკოტი“."
        },
        {
          id: 11,
          topic: "რეკომენდაცია 3",
          wrongSentence: "საკვებმა / წამალმა ალერგია მისცა.",
          correctSentence: "საკვებმა / წამალმა ალერგია გამოიწვია.",
          explanation: "გავრცელებულია „ალერგია მისცა“, რაც შეცდომაა. უნდა იყოს: „საკვებმა / წამალმა... ალერგია გამოიწვია“."
        },
        {
          id: 12,
          topic: "რეკომენდაცია 4",
          wrongSentence: "მე ამაყი ვარ, რომ ქართველმა სპორტსმენებმა გაიმარჯვეს.",
          correctSentence: "ვამაყობ / მეამაყება, რომ ქართველმა სპორტსმენებმა გაიმარჯვეს.",
          explanation: "„ამაყი ვარ“ ტიპის სიტყვათშეხამებანი მართებულია პიროვნული თვისების აღსანიშნავად. ამ შემთხვევაში უნდა იყოს: „ვამაყობ / მეამაყება“."
        },
        {
          id: 13,
          topic: "რეკომენდაცია 4",
          wrongSentence: "მე ამაყი ვარ, რომ ჩვენ ასეთი პოეტები გვყავს.",
          correctSentence: "ვამაყობ / მეამაყება, რომ ჩვენ ასეთი პოეტები გვყავს.",
          explanation: "უნდა იყოს: „ვამაყობ / მეამაყება, რომ ჩვენ ასეთი პოეტები გვყავს“."
        },
        {
          id: 14,
          topic: "რეკომენდაცია 5",
          wrongSentence: "ანუ დღეს გიამბობთ XII საუკუნის საქართველოს პოლიტიკური ვითარების შესახებ...",
          correctSentence: "დღეს გიამბობთ XII საუკუნის საქართველოს პოლიტიკური ვითარების შესახებ...",
          explanation: "ზეპირ მეტყველებაში ხშირად საუბარს იწყებენ „ანუ“ კავშირით, რაც დაუშვებელია. ის იხმარება მსგავსი მნიშვნელობის სიტყვების ან წინადადებების დასაკავშირებლად."
        },
        {
          id: 15,
          topic: "რეკომენდაცია 6",
          wrongSentence: "შეხვედრაზე მინისტრმა გააჟღერა, რომ ამ საკითხს განიხილავდა.",
          correctSentence: "შეხვედრაზე მინისტრმა აღნიშნა / განაცხადა, რომ ამ საკითხს განიხილავდა.",
          explanation: "„აჟღერებს“ – ჟღერის ხმას, სასიამოვნოდ მოსასმენ ბგერებს გამოსცემს (საკრავი). უმართებულოა მისი გამოყენება „აღნიშნა, განაცხადა, თქვა“ მნიშვნელობით."
        },
        {
          id: 16,
          topic: "რეკომენდაცია 7",
          wrongSentence: "არავითარ შემთხვევაში დაეთანხმება.",
          correctSentence: "არავითარ შემთხვევაში არ დაეთანხმება.",
          explanation: "„არავითარ შემთხვევაში“ ითხოვს ორმაგ უარყოფას. უნდა იყოს: „არავითარ შემთხვევაში არ...“"
        },
        {
          id: 17,
          topic: "რეკომენდაცია 7",
          wrongSentence: "არავითარ შემთხვევაში წავა.",
          correctSentence: "არავითარ შემთხვევაში არ წავა.",
          explanation: "„არავითარ შემთხვევაში“ ითხოვს ორმაგ უარყოფას. უნდა იყოს: „არავითარ შემთხვევაში არ...“"
        },
        {
          id: 18,
          topic: "რეკომენდაცია 8",
          wrongSentence: "არცერთი იყო მზად და არც მეორე.",
          correctSentence: "არც ერთი იყო მზად და არც მეორე.",
          explanation: "თუ „არც ერთს“ მოსდევს „არც მეორე / მესამე...“, მაშინ „არც ერთი“ დაიწერება ცალ-ცალკე."
        },
        {
          id: 19,
          topic: "რეკომენდაცია 9",
          wrongSentence: "თავმჯდომარემ დააფიქსირა, რომ სხდომა ხუთ საათზე გაგრძელდებოდა.",
          correctSentence: "თავმჯდომარემ განაცხადა, რომ სხდომა ხუთ საათზე გაგრძელდებოდა.",
          explanation: "უმართებულოა „დააფიქსირა“ ზმნის გამოყენება „აღნიშნავს, ამბობს, განაცხადებს“ მნიშვნელობით. უნდა იყოს: „განაცხადა“."
        },
        {
          id: 20,
          topic: "რეკომენდაცია 9",
          wrongSentence: "მინისტრმა კვლავ დააფიქსირა, რომ შეისწავლიდა ამ საკითხს.",
          correctSentence: "მინისტრმა კვლავ აღნიშნა / განაცხადა, რომ შეისწავლიდა ამ საკითხს.",
          explanation: "უმართებულოა „დააფიქსირა“ ზმნის გამოყენება „აღნიშნავს, ამბობს, განაცხადებს“ მნიშვნელობით. უნდა იყოს: „აღნიშნა / განაცხადა“."
        },
        {
          id: 21,
          topic: "რეკომენდაცია 10",
          wrongSentence: "მას რომ ამის გაკეთება არ შეუძლია, აქედან გამომდინარე, ჩვენც უნდა გავჩერდეთ?",
          correctSentence: "მას რომ ამის გაკეთება არ შეუძლია, ამიტომ / ამის გამო ჩვენც უნდა გავჩერდეთ?",
          explanation: "ზეპირ მეტყველებაში „აქედან გამომდინარე“ ხშირად უმართებულოდ გამოიყენება „ამიტომ, ამის გამო“ მნიშვნელობით."
        }
      ];

      // --- COMPONENTS ---

      // Button Component
      const Button = ({ children, variant = 'primary', fullWidth = false, className = '', ...props }) => {
        const baseStyles = "px-6 py-3 rounded-xl font-semibold transition-all duration-200 transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm";
        
        const variants = {
          primary: "bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-indigo-200",
          secondary: "bg-slate-200 text-slate-800 hover:bg-slate-300",
          outline: "border-2 border-indigo-600 text-indigo-600 hover:bg-indigo-50",
          danger: "bg-red-500 text-white hover:bg-red-600",
          success: "bg-green-500 text-white hover:bg-green-600"
        };

        return (
          <button 
            className={`${baseStyles} ${variants[variant]} ${fullWidth ? 'w-full' : ''} ${className}`}
            {...props}
          >
            {children}
          </button>
        );
      };

      // ProgressBar Component
      const ProgressBar = ({ current, total }) => {
        const progress = ((current) / total) * 100;

        return (
          <div className="w-full h-3 bg-slate-200 rounded-full overflow-hidden mb-8">
            <div 
              className="h-full bg-indigo-600 transition-all duration-500 ease-out rounded-full"
              style={{ width: `${progress}%` }}
            />
          </div>
        );
      };

      // Result Component
      const Result = ({ score, total, onRestart }) => {
        const percentage = Math.round((score / total) * 100);
        
        let message = "";
        let subMessage = "";
        
        if (percentage === 100) {
          message = "შესანიშნავია!";
          subMessage = "თქვენ უნაკლოდ ფლობთ მასალას.";
        } else if (percentage >= 70) {
          message = "კარგი შედეგია!";
          subMessage = "კიდევ ცოტა ვარჯიში და ყველაფერი გამოვა.";
        } else {
          message = "გჭირდებათ ვარჯიში";
          subMessage = "გადახედეთ რეკომენდაციებს და სცადეთ თავიდან.";
        }

        return (
          <div className="max-w-md mx-auto bg-white p-8 rounded-2xl shadow-xl text-center animate-fade-in mt-10">
            <div className="mb-6">
              <div className="w-32 h-32 mx-auto bg-indigo-50 rounded-full flex items-center justify-center mb-4">
                <span className="text-4xl font-bold text-indigo-600">{percentage}%</span>
              </div>
              <h2 className="text-2xl font-bold text-slate-800 mb-2">{message}</h2>
              <p className="text-slate-600">{subMessage}</p>
            </div>
            
            <div className="bg-slate-50 rounded-lg p-4 mb-8">
              <div className="flex justify-between items-center text-sm font-medium text-slate-600">
                <span>სწორი პასუხი:</span>
                <span className="text-indigo-600 text-lg">{score} / {total}</span>
              </div>
            </div>

            <Button onClick={onRestart} fullWidth>
              თავიდან დაწყება
            </Button>
          </div>
        );
      };

      // Quiz Component
      const Quiz = ({ questions, onFinish }) => {
        const [currentIndex, setCurrentIndex] = useState(0);
        const [score, setScore] = useState(0);
        const [answerState, setAnswerState] = useState({
          isAnswered: false,
          isCorrect: false,
          selectedOption: null,
        });

        const [isOptionAFirst, setIsOptionAFirst] = useState(true);

        useEffect(() => {
          setIsOptionAFirst(Math.random() < 0.5);
          setAnswerState({
            isAnswered: false,
            isCorrect: false,
            selectedOption: null
          });
        }, [currentIndex]);

        const currentQuestion = questions[currentIndex];

        const handleOptionSelect = (selectedSentence) => {
          if (answerState.isAnswered) return;

          const isCorrect = selectedSentence === currentQuestion.correctSentence;
          
          setAnswerState({
            isAnswered: true,
            isCorrect,
            selectedOption: selectedSentence
          });

          if (isCorrect) {
            setScore(prev => prev + 1);
          }
        };

        const handleNext = () => {
          if (currentIndex < questions.length - 1) {
            setCurrentIndex(prev => prev + 1);
          } else {
            onFinish(score + (answerState.isCorrect ? 0 : 0));
          }
        };

        const getButtonStyle = (sentence) => {
          if (!answerState.isAnswered) return 'secondary';
          
          if (sentence === currentQuestion.correctSentence) {
            return 'success';
          }
          
          if (sentence === answerState.selectedOption && sentence !== currentQuestion.correctSentence) {
            return 'danger';
          }
          
          return 'secondary';
        };

        const optionA = isOptionAFirst ? currentQuestion.correctSentence : currentQuestion.wrongSentence;
        const optionB = isOptionAFirst ? currentQuestion.wrongSentence : currentQuestion.correctSentence;

        return (
          <div className="max-w-2xl mx-auto w-full px-4">
            <div className="mb-6 flex justify-between items-end">
              <div>
                <h2 className="text-sm font-semibold uppercase tracking-wider text-indigo-600 mb-1">
                  {currentQuestion.topic}
                </h2>
                <h3 className="text-slate-500 text-sm">
                  კითხვა {currentIndex + 1} / {questions.length}
                </h3>
              </div>
            </div>

            <ProgressBar current={currentIndex + 1} total={questions.length} />

            <div className="bg-white rounded-2xl shadow-lg p-6 md:p-8 mb-6">
              <h1 className="text-xl md:text-2xl font-bold text-slate-800 mb-8 text-center leading-relaxed">
                რომელი ფორმაა მართებული?
              </h1>

              <div className="grid gap-4">
                <Button 
                  variant={getButtonStyle(optionA)} 
                  onClick={() => handleOptionSelect(optionA)}
                  disabled={answerState.isAnswered}
                  fullWidth
                  className="text-left h-auto min-h-[80px] text-lg whitespace-normal md:hover:scale-[1.01]"
                >
                  {optionA}
                </Button>

                <Button 
                  variant={getButtonStyle(optionB)} 
                  onClick={() => handleOptionSelect(optionB)}
                  disabled={answerState.isAnswered}
                  fullWidth
                  className="text-left h-auto min-h-[80px] text-lg whitespace-normal md:hover:scale-[1.01]"
                >
                  {optionB}
                </Button>
              </div>
            </div>

            {answerState.isAnswered && (
              <div className={`rounded-2xl p-6 mb-20 animate-fade-in-up border-l-4 shadow-md ${
                answerState.isCorrect ? 'bg-green-50 border-green-500' : 'bg-red-50 border-red-500'
              }`}>
                <div className="flex items-start gap-3">
                  <div className={`mt-1 p-1 rounded-full ${answerState.isCorrect ? 'bg-green-200 text-green-700' : 'bg-red-200 text-red-700'}`}>
                     {answerState.isCorrect ? (
                       <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                         <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                       </svg>
                     ) : (
                       <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                         <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                       </svg>
                     )}
                  </div>
                  <div>
                    <h3 className={`font-bold text-lg mb-2 ${answerState.isCorrect ? 'text-green-800' : 'text-red-800'}`}>
                      {answerState.isCorrect ? 'სწორია!' : 'შეცდომაა!'}
                    </h3>
                    
                    {!answerState.isCorrect && (
                      <div className="text-slate-700 leading-relaxed mb-4">
                        <p className="font-semibold text-slate-900 mb-1">განმარტება:</p>
                        {currentQuestion.explanation}
                      </div>
                    )}
                     {answerState.isCorrect && (
                       <p className="text-slate-600">ყოჩაღ! ზუსტად ეგრეა.</p>
                     )}
                  </div>
                </div>
              </div>
            )}

            {answerState.isAnswered && (
              <div className="fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-slate-100 flex justify-center z-50">
                 <div className="max-w-2xl w-full">
                  <Button onClick={handleNext} fullWidth variant="primary">
                    {currentIndex === questions.length - 1 ? 'შედეგების ნახვა' : 'შემდეგი'}
                  </Button>
                 </div>
              </div>
            )}
            
            {answerState.isAnswered && <div className="h-24"></div>}
          </div>
        );
      };

      // App Component
      const App = () => {
        const [gameState, setGameState] = useState('START');
        const [finalScore, setFinalScore] = useState(0);

        const handleStart = () => {
          setGameState('PLAYING');
          setFinalScore(0);
        };

        const handleFinish = (score) => {
          setFinalScore(score);
          setGameState('FINISHED');
        };

        const handleRestart = () => {
          setGameState('START');
          setFinalScore(0);
        };

        return (
          <div className="min-h-screen bg-slate-50 flex flex-col font-sans">
            <header className="bg-white border-b border-slate-200 sticky top-0 z-40">
              <div className="max-w-4xl mx-auto px-4 h-16 flex items-center justify-between">
                <div className="flex items-center gap-2">
                  <div className="bg-indigo-600 text-white p-1.5 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                    </svg>
                  </div>
                  <h1 className="text-lg md:text-xl font-bold text-slate-800">
                    მართლწერის 80 რეკომენდაცია (10)
                  </h1>
                </div>
              </div>
            </header>

            <main className="flex-grow flex flex-col items-center justify-center p-4">
              {gameState === 'START' && (
                <div className="max-w-lg mx-auto text-center space-y-8 animate-fade-in">
                  <div className="space-y-4">
                    <h1 className="text-4xl font-bold text-slate-900 leading-tight">
                      გაიუმჯობესე მართლწერა
                    </h1>
                    <p className="text-lg text-slate-600">
                    </p>
                  </div>

                  <div className="grid grid-cols-1 gap-4 text-left max-w-sm mx-auto bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                    <div className="flex items-center gap-3 text-slate-700">
                      <span className="flex-shrink-0 w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold">
                        {questions.length}
                      </span>
                      <span>სულ კითხვა</span>
                    </div>
                    <div className="flex items-center gap-3 text-slate-700">
                      <span className="flex-shrink-0 w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center font-bold">
                        ✓
                      </span>
                      <span>შეცდომების დეტალური ახსნა</span>
                    </div>
                  </div>

                  <Button onClick={handleStart} className="text-lg px-12 shadow-indigo-200 shadow-lg">
                    დაწყება
                  </Button>
                </div>
              )}

              {gameState === 'PLAYING' && (
                <Quiz questions={questions} onFinish={handleFinish} />
              )}

              {gameState === 'FINISHED' && (
                <Result score={finalScore} total={questions.length} onRestart={handleRestart} />
              )}
            </main>

            <footer className="py-6 text-center text-slate-400 text-sm">
              <p>© 2025 მართლწერის რეკომენდაციები</p>
            </footer>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  <script type="module" src="/index.tsx"></script>
</body>
</html>
